{"ast":null,"code":"import React,{Fragment,useContext,useRef,useEffect}from\"react\";import{Outlet,Link}from\"react-router-dom\";import{UserContext}from\"../../../context/user.context\";import{CartContext}from\"../../../context/cart.context\";import{signOutUser}from\"../../../utils/firebase/firebase.utils\";import{ReactComponent as CrownLogo}from\"../../../assets/crown.svg\";import CartIcon from\"../../cart-icon/cart-icon.component\";import CartDropdown from\"../../cart-dropdown/cart-dropdown.component\";import\"./navigation.style.scss\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navigation=()=>{const{currentUser}=useContext(UserContext);const{isCartOpen,setIsCartOpen}=useContext(CartContext);const cartDropdownRef=useRef(null);useEffect(()=>{const handleClickOutside=event=>{if(isCartOpen&&cartDropdownRef.current&&!cartDropdownRef.current.contains(event.target)){setIsCartOpen(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[isCartOpen,setIsCartOpen]);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navigation\",children:[/*#__PURE__*/_jsx(Link,{className:\"logo-container\",to:\"/\",children:/*#__PURE__*/_jsx(CrownLogo,{className:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-links-container\",children:[/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/shop\",children:\"SHOP\"}),currentUser?/*#__PURE__*/_jsxs(\"span\",{className:\"nav-link\",onClick:signOutUser,children:[\" \",\"SIGN-OUT\"]}):/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/auth\",children:\"SIGN-IN\"}),/*#__PURE__*/_jsx(CartIcon,{})]}),isCartOpen&&/*#__PURE__*/_jsx(\"div\",{ref:cartDropdownRef,children:/*#__PURE__*/_jsx(CartDropdown,{})})]}),/*#__PURE__*/_jsx(Outlet,{})]});};export default Navigation;","map":{"version":3,"names":["React","Fragment","useContext","useRef","useEffect","Outlet","Link","UserContext","CartContext","signOutUser","ReactComponent","CrownLogo","CartIcon","CartDropdown","jsx","_jsx","jsxs","_jsxs","Navigation","currentUser","isCartOpen","setIsCartOpen","cartDropdownRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","children","className","to","onClick","ref"],"sources":["D:/All-my-projects/10-CROWNCLOTHING/crown-clothing/src/components/routes/navigation/navigation.component.jsx"],"sourcesContent":["import React, { Fragment, useContext, useRef, useEffect } from \"react\";\r\nimport { Outlet, Link } from \"react-router-dom\";\r\n\r\nimport { UserContext } from \"../../../context/user.context\";\r\nimport { CartContext } from \"../../../context/cart.context\";\r\n\r\nimport { signOutUser } from \"../../../utils/firebase/firebase.utils\";\r\nimport { ReactComponent as CrownLogo } from \"../../../assets/crown.svg\";\r\n\r\nimport CartIcon from \"../../cart-icon/cart-icon.component\";\r\nimport CartDropdown from \"../../cart-dropdown/cart-dropdown.component\";\r\n\r\nimport \"./navigation.style.scss\";\r\n\r\nconst Navigation = () => {\r\n  const { currentUser } = useContext(UserContext);\r\n  const { isCartOpen, setIsCartOpen } = useContext(CartContext);\r\n  const cartDropdownRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (\r\n        isCartOpen &&\r\n        cartDropdownRef.current &&\r\n        !cartDropdownRef.current.contains(event.target)\r\n      ) {\r\n        setIsCartOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [isCartOpen, setIsCartOpen]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"navigation\">\r\n        <Link className=\"logo-container\" to=\"/\">\r\n          <CrownLogo className=\"logo\" />\r\n        </Link>\r\n        <div className=\"nav-links-container\">\r\n          <Link className=\"nav-link\" to=\"/shop\">\r\n            SHOP\r\n          </Link>\r\n          {currentUser ? (\r\n            <span className=\"nav-link\" onClick={signOutUser}>\r\n              {\" \"}\r\n              SIGN-OUT\r\n            </span>\r\n          ) : (\r\n            <Link className=\"nav-link\" to=\"/auth\">\r\n              SIGN-IN\r\n            </Link>\r\n          )}\r\n          <CartIcon />\r\n        </div>\r\n        {isCartOpen && (\r\n          <div ref={cartDropdownRef}>\r\n            <CartDropdown />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Outlet />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CACtE,OAASC,MAAM,CAAEC,IAAI,KAAQ,kBAAkB,CAE/C,OAASC,WAAW,KAAQ,+BAA+B,CAC3D,OAASC,WAAW,KAAQ,+BAA+B,CAE3D,OAASC,WAAW,KAAQ,wCAAwC,CACpE,OAASC,cAAc,GAAI,CAAAC,SAAS,KAAQ,2BAA2B,CAEvE,MAAO,CAAAC,QAAQ,KAAM,qCAAqC,CAC1D,MAAO,CAAAC,YAAY,KAAM,6CAA6C,CAEtE,MAAO,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAEC,WAAY,CAAC,CAAGjB,UAAU,CAACK,WAAW,CAAC,CAC/C,KAAM,CAAEa,UAAU,CAAEC,aAAc,CAAC,CAAGnB,UAAU,CAACM,WAAW,CAAC,CAC7D,KAAM,CAAAc,eAAe,CAAGnB,MAAM,CAAC,IAAI,CAAC,CAEpCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,kBAAkB,CAAIC,KAAK,EAAK,CACpC,GACEJ,UAAU,EACVE,eAAe,CAACG,OAAO,EACvB,CAACH,eAAe,CAACG,OAAO,CAACC,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC,CAC/C,CACAN,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAEDO,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEN,kBAAkB,CAAC,CAE1D,MAAO,IAAM,CACXK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEP,kBAAkB,CAAC,CAC/D,CAAC,CACH,CAAC,CAAE,CAACH,UAAU,CAAEC,aAAa,CAAC,CAAC,CAE/B,mBACEJ,KAAA,CAAChB,QAAQ,EAAA8B,QAAA,eACPd,KAAA,QAAKe,SAAS,CAAC,YAAY,CAAAD,QAAA,eACzBhB,IAAA,CAACT,IAAI,EAAC0B,SAAS,CAAC,gBAAgB,CAACC,EAAE,CAAC,GAAG,CAAAF,QAAA,cACrChB,IAAA,CAACJ,SAAS,EAACqB,SAAS,CAAC,MAAM,CAAE,CAAC,CAC1B,CAAC,cACPf,KAAA,QAAKe,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClChB,IAAA,CAACT,IAAI,EAAC0B,SAAS,CAAC,UAAU,CAACC,EAAE,CAAC,OAAO,CAAAF,QAAA,CAAC,MAEtC,CAAM,CAAC,CACNZ,WAAW,cACVF,KAAA,SAAMe,SAAS,CAAC,UAAU,CAACE,OAAO,CAAEzB,WAAY,CAAAsB,QAAA,EAC7C,GAAG,CAAC,UAEP,EAAM,CAAC,cAEPhB,IAAA,CAACT,IAAI,EAAC0B,SAAS,CAAC,UAAU,CAACC,EAAE,CAAC,OAAO,CAAAF,QAAA,CAAC,SAEtC,CAAM,CACP,cACDhB,IAAA,CAACH,QAAQ,GAAE,CAAC,EACT,CAAC,CACLQ,UAAU,eACTL,IAAA,QAAKoB,GAAG,CAAEb,eAAgB,CAAAS,QAAA,cACxBhB,IAAA,CAACF,YAAY,GAAE,CAAC,CACb,CACN,EACE,CAAC,cACNE,IAAA,CAACV,MAAM,GAAE,CAAC,EACF,CAAC,CAEf,CAAC,CAED,cAAe,CAAAa,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}