{"ast":null,"code":"import React from\"react\";import{createContext,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const addCartItem=(cartItems,productToAdd)=>{const existingCartItem=cartItems.find(cartItem=>cartItem.id===productToAdd.id);if(existingCartItem){return cartItems.map(cartItem=>cartItem.id===productToAdd.id?{...cartItem,quantity:cartItem.quantity+1}:cartItem);}return[...cartItems,{...productToAdd,quantity:1}];};const removeCartItem=(cartItems,cartItemToRemove)=>{const existingCartItem=cartItems.find(cartItem=>cartItem.id===cartItemToRemove.id);if(existingCartItem.quantity===1){return cartItems.filter(cartItem=>cartItem.id!==cartItemToRemove.id);}return cartItems.map(cartItem=>cartItem.id===cartItemToRemove.id?{...cartItem,quantity:cartItem.quantity-1}:cartItem);};const clearCartItem=(cartItems,cartItemToRemove)=>{return cartItems.filter(cartItem=>cartItem.id!==cartItemToRemove.id);};export const CartContext=/*#__PURE__*/createContext({isCartOpen:false,setIsOpen:()=>{},cartItems:[],addItemToCart:()=>{},removeItemToCart:()=>{},clearItemFromCart:()=>{},setCartItemCount:()=>{},cartItemCount:0,cartTotal:0});export const CartProvider=_ref=>{let{children}=_ref;const[isCartOpen,setIsCartOpen]=useState(false);const[cartItems,setCartItems]=useState([]);const[cartItemCount,setCartItemCount]=useState(0);const[cartTotal,setCartTotal]=useState(0);useEffect(()=>{const count=cartItems.reduce((total,cartItem)=>total+cartItem.quantity,0);setCartItemCount(count);},[cartItems]);useEffect(()=>{const newCartTotal=cartItems.reduce((total,cartItem)=>total+cartItem.quantity*cartItem.price,0);setCartTotal(newCartTotal);},[cartItems]);const addItemToCart=productToAdd=>{setCartItems(addCartItem(cartItems,productToAdd));};const removeItemToCart=cartItemToRemove=>{setCartItems(removeCartItem(cartItems,cartItemToRemove));};const clearItemFromCart=cartItemToClear=>{setCartItems(clearCartItem(cartItems,cartItemToClear));};const value={isCartOpen,setIsCartOpen,cartItems,addItemToCart,removeItemToCart,clearItemFromCart,cartItemCount,setCartItemCount,cartTotal};return/*#__PURE__*/_jsx(CartContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","jsx","_jsx","addCartItem","cartItems","productToAdd","existingCartItem","find","cartItem","id","map","quantity","removeCartItem","cartItemToRemove","filter","clearCartItem","CartContext","isCartOpen","setIsOpen","addItemToCart","removeItemToCart","clearItemFromCart","setCartItemCount","cartItemCount","cartTotal","CartProvider","_ref","children","setIsCartOpen","setCartItems","setCartTotal","count","reduce","total","newCartTotal","price","cartItemToClear","value","Provider"],"sources":["D:/All-my-projects/10-CROWNCLOTHING/crown-clothing/src/context/cart.context.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { createContext, useState, useEffect } from \"react\";\r\n\r\nconst addCartItem = (cartItems, productToAdd) => {\r\n  const existingCartItem = cartItems.find(\r\n    (cartItem) => cartItem.id === productToAdd.id\r\n  );\r\n\r\n  if (existingCartItem) {\r\n    return cartItems.map((cartItem) =>\r\n      cartItem.id === productToAdd.id\r\n        ? { ...cartItem, quantity: cartItem.quantity + 1 }\r\n        : cartItem\r\n    );\r\n  }\r\n\r\n  return [...cartItems, { ...productToAdd, quantity: 1 }];\r\n};\r\n\r\nconst removeCartItem = (cartItems, cartItemToRemove) => {\r\n  const existingCartItem = cartItems.find(\r\n    (cartItem) => cartItem.id === cartItemToRemove.id\r\n  );\r\n  if (existingCartItem.quantity === 1) {\r\n    return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);\r\n  }\r\n\r\n  return cartItems.map((cartItem) =>\r\n    cartItem.id === cartItemToRemove.id\r\n      ? { ...cartItem, quantity: cartItem.quantity - 1 }\r\n      : cartItem\r\n  );\r\n};\r\n\r\nconst clearCartItem = (cartItems, cartItemToRemove) => {\r\n  return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);\r\n};\r\nexport const CartContext = createContext({\r\n  isCartOpen: false,\r\n  setIsOpen: () => {},\r\n  cartItems: [],\r\n  addItemToCart: () => {},\r\n  removeItemToCart: () => {},\r\n  clearItemFromCart: () => {},\r\n  setCartItemCount: () => {},\r\n  cartItemCount: 0,\r\n  cartTotal: 0,\r\n});\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [isCartOpen, setIsCartOpen] = useState(false);\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [cartItemCount, setCartItemCount] = useState(0);\r\n  const [cartTotal, setCartTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const count = cartItems.reduce(\r\n      (total, cartItem) => total + cartItem.quantity,\r\n      0\r\n    );\r\n    setCartItemCount(count);\r\n  }, [cartItems]);\r\n\r\n  useEffect(() => {\r\n    const newCartTotal = cartItems.reduce(\r\n      (total, cartItem) => total + cartItem.quantity * cartItem.price,\r\n      0\r\n    );\r\n    setCartTotal(newCartTotal);\r\n  }, [cartItems]);\r\n\r\n  const addItemToCart = (productToAdd) => {\r\n    setCartItems(addCartItem(cartItems, productToAdd));\r\n  };\r\n\r\n  const removeItemToCart = (cartItemToRemove) => {\r\n    setCartItems(removeCartItem(cartItems, cartItemToRemove));\r\n  };\r\n\r\n  const clearItemFromCart = (cartItemToClear) => {\r\n    setCartItems(clearCartItem(cartItems, cartItemToClear));\r\n  };\r\n\r\n  const value = {\r\n    isCartOpen,\r\n    setIsCartOpen,\r\n    cartItems,\r\n    addItemToCart,\r\n    removeItemToCart,\r\n    clearItemFromCart,\r\n    cartItemCount,\r\n    setCartItemCount,\r\n    cartTotal,\r\n  };\r\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}