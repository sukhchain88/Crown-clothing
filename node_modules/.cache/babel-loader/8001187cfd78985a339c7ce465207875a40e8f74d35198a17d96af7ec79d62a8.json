{"ast":null,"code":"import React,{useState,useContext}from\"react\";import FormInput from\"../form-input/forms-input.component\";import Button from\"../button/button.component\";import{UserContext}from\"../../context/user.context\";import{signInUserAuthWithEmailAndPassword,signInWithGooglePopup}from\"../../utils/firebase/firebase.utils\";import\"./sign-in.style.scss\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const defaultFormField={email:\"\",password:\"\"};const SignInForm=()=>{const[formField,setFormField]=useState(defaultFormField);const{email,password}=formField;const{setCurrentUser}=useContext(UserContext);const resetForm=()=>{setFormField(defaultFormField);};const signInWithGoogle=async()=>{await signInWithGooglePopup();};const handleSubmit=async e=>{e.preventDefault();try{const{user}=await signInUserAuthWithEmailAndPassword(email,password);console.log(user);resetForm();setCurrentUser(user);}catch(err){switch(err.code){case\"auth/email-already-in-use\":alert(\"Email already in use\");break;case\"auth/invalid-credential\":alert(\"Your account is not valid you need to sign-up\");break;case\"auth/user-not-found\":alert(\"no user associated with this email\");break;default:console.log(err);}}};const handleChange=event=>{const{name,value}=event.target;setFormField({...formField,[name]:value});};return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign in with your email and password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormInput,{label:\"Email\",type:\"email\",required:true,onChange:handleChange,name:\"email\",value:email}),/*#__PURE__*/_jsx(\"label\",{}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",type:\"password\",required:true,onChange:handleChange,name:\"password\",value:password}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-container\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Sign In\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",buttonType:\"google\",onClick:signInWithGoogle,children:\"Sign In With Google\"})]})]})]});};export default SignInForm;","map":{"version":3,"names":["React","useState","useContext","FormInput","Button","UserContext","signInUserAuthWithEmailAndPassword","signInWithGooglePopup","jsx","_jsx","jsxs","_jsxs","defaultFormField","email","password","SignInForm","formField","setFormField","setCurrentUser","resetForm","signInWithGoogle","handleSubmit","e","preventDefault","user","console","log","err","code","alert","handleChange","event","name","value","target","className","children","onSubmit","label","type","required","onChange","buttonType","onClick"],"sources":["D:/All-my-projects/10-CROWNCLOTHING/crown-clothing/src/components/sign-in/sign-in.component.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\n\r\nimport FormInput from \"../form-input/forms-input.component\";\r\nimport Button from \"../button/button.component\";\r\n\r\nimport { UserContext } from \"../../context/user.context\";\r\n\r\nimport {\r\n  signInUserAuthWithEmailAndPassword,\r\n  signInWithGooglePopup,\r\n} from \"../../utils/firebase/firebase.utils\";\r\nimport \"./sign-in.style.scss\";\r\n\r\nconst defaultFormField = {\r\n  email: \"\",\r\n  password: \"\",\r\n};\r\n\r\nconst SignInForm = () => {\r\n  const [formField, setFormField] = useState(defaultFormField);\r\n  const { email, password } = formField;\r\n\r\n  const { setCurrentUser } = useContext(UserContext);\r\n\r\n  const resetForm = () => {\r\n    setFormField(defaultFormField);\r\n  };\r\n\r\n  const signInWithGoogle = async () => {\r\n    await signInWithGooglePopup();\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const { user } = await signInUserAuthWithEmailAndPassword(\r\n        email,\r\n        password\r\n      );\r\n      console.log(user);\r\n      resetForm();\r\n      setCurrentUser(user);\r\n    } catch (err) {\r\n      switch (err.code) {\r\n        case \"auth/email-already-in-use\":\r\n          alert(\"Email already in use\");\r\n          break;\r\n        case \"auth/invalid-credential\":\r\n          alert(\"Your account is not valid you need to sign-up\");\r\n          break;\r\n        case \"auth/user-not-found\":\r\n          alert(\"no user associated with this email\");\r\n          break;\r\n        default:\r\n          console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFormField({ ...formField, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"sign-in-container\">\r\n      <h2>Don't have an account?</h2>\r\n      <span>Sign in with your email and password</span>\r\n      <form onSubmit={handleSubmit}>\r\n        <FormInput\r\n          label=\"Email\"\r\n          type=\"email\"\r\n          required\r\n          onChange={handleChange}\r\n          name=\"email\"\r\n          value={email}\r\n        />\r\n        <label></label>\r\n        <FormInput\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          required\r\n          onChange={handleChange}\r\n          name=\"password\"\r\n          value={password}\r\n        />\r\n        <div className=\"buttons-container\">\r\n          <Button type=\"submit\">Sign In</Button>\r\n          <Button type='button' buttonType=\"google\" onClick={signInWithGoogle}>\r\n            Sign In With Google\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignInForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}