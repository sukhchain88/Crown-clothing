{"ast":null,"code":"import{initializeApp}from\"firebase/app\";import{getAuth,signInWithPopup,// signInWithRedirect,\nGoogleAuthProvider,createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,onAuthStateChanged}from\"firebase/auth\";import{getFirestore,doc,getDoc,setDoc,collection,writeBatch,getDocs,query}from\"firebase/firestore\";const firebaseConfig={apiKey:\"AIzaSyDFoT160xGD_3SqJycWRjr7WC-eVIkku20\",authDomain:\"crown-clothing-c39b5.firebaseapp.com\",projectId:\"crown-clothing-c39b5\",storageBucket:\"crown-clothing-c39b5.appspot.com\",messagingSenderId:\"481420928275\",appId:\"1:481420928275:web:f0b77c4400ca08e2d566e6\",measurementId:\"G-SL61HY7CGW\"};// Initialize Firebase\ninitializeApp(firebaseConfig);const provider=new GoogleAuthProvider();provider.getCustomParameters({prompt:\"select_account\"});export const auth=getAuth();export const signInWithGooglePopup=()=>signInWithPopup(auth,provider);const db=getFirestore();export const addCollectionAndDocuments=async(collectionKey,objectsToAdd)=>{const collectionRef=collection(db,collectionKey);const batch=writeBatch(db);objectsToAdd.forEach(object=>{const docRef=doc(collectionRef,object.title.toLowerCase());batch.set(docRef,object);});await batch.commit();console.log(\"done\");};export const getCategoriesAndDocument=async()=>{const collectionRef=collection(db,\"categories\");const q=query(collectionRef);const querySnapShort=await getDocs(q);const categoryMap=querySnapShort.docs.reduce((acc,docSnapShort)=>{const{title,items}=docSnapShort.data();acc[title.toLowerCase()]=items;return acc;},{});return categoryMap;};export const createUserDocumentFromAuth=async(userAuth,additionalSetting)=>{if(!userAuth)return;const userDocRef=doc(db,\"users\",userAuth.uid);const snapShort=await getDoc(userDocRef);if(!snapShort.exists()){const{displayName,email}=userAuth;const createdAt=new Date();try{await setDoc(userDocRef,{displayName,email,createdAt,...additionalSetting});}catch(err){console.log(\"createUserDocumentFromAuth\",err);}}return userDocRef;};export const createUserAuthWithEmailAndPassword=async(email,password)=>{if(!email||!password)return;return await createUserWithEmailAndPassword(auth,email,password);};export const signInUserAuthWithEmailAndPassword=async(email,password)=>{if(!email||!password)return;return await signInWithEmailAndPassword(auth,email,password);};export const signOutUser=async()=>await signOut(auth);export const onAuthStateChangedListener=callback=>onAuthStateChanged(auth,callback);","map":{"version":3,"names":["initializeApp","getAuth","signInWithPopup","GoogleAuthProvider","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","onAuthStateChanged","getFirestore","doc","getDoc","setDoc","collection","writeBatch","getDocs","query","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","provider","getCustomParameters","prompt","auth","signInWithGooglePopup","db","addCollectionAndDocuments","collectionKey","objectsToAdd","collectionRef","batch","forEach","object","docRef","title","toLowerCase","set","commit","console","log","getCategoriesAndDocument","q","querySnapShort","categoryMap","docs","reduce","acc","docSnapShort","items","data","createUserDocumentFromAuth","userAuth","additionalSetting","userDocRef","uid","snapShort","exists","displayName","email","createdAt","Date","err","createUserAuthWithEmailAndPassword","password","signInUserAuthWithEmailAndPassword","signOutUser","onAuthStateChangedListener","callback"],"sources":["D:/All-my-projects/10-CROWNCLOTHING/crown-clothing/src/utils/firebase/firebase.utils.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\n\r\nimport {\r\n  getAuth,\r\n  signInWithPopup,\r\n  // signInWithRedirect,\r\n  GoogleAuthProvider,\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n  onAuthStateChanged,\r\n} from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  doc,\r\n  getDoc,\r\n  setDoc,\r\n  collection,\r\n  writeBatch,\r\n  getDocs,\r\n  query,\r\n} from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDFoT160xGD_3SqJycWRjr7WC-eVIkku20\",\r\n  authDomain: \"crown-clothing-c39b5.firebaseapp.com\",\r\n  projectId: \"crown-clothing-c39b5\",\r\n  storageBucket: \"crown-clothing-c39b5.appspot.com\",\r\n  messagingSenderId: \"481420928275\",\r\n  appId: \"1:481420928275:web:f0b77c4400ca08e2d566e6\",\r\n  measurementId: \"G-SL61HY7CGW\",\r\n};\r\n\r\n// Initialize Firebase\r\ninitializeApp(firebaseConfig);\r\n\r\nconst provider = new GoogleAuthProvider();\r\n\r\nprovider.getCustomParameters({\r\n  prompt: \"select_account\",\r\n});\r\n\r\nexport const auth = getAuth();\r\n\r\nexport const signInWithGooglePopup = () => signInWithPopup(auth, provider);\r\n\r\nconst db = getFirestore();\r\n\r\nexport const addCollectionAndDocuments = async (\r\n  collectionKey,\r\n  objectsToAdd\r\n) => {\r\n  const collectionRef = collection(db, collectionKey);\r\n  const batch = writeBatch(db);\r\n\r\n  objectsToAdd.forEach((object) => {\r\n    const docRef = doc(collectionRef, object.title.toLowerCase());\r\n    batch.set(docRef, object);\r\n  });\r\n  await batch.commit();\r\n  console.log(\"done\");\r\n};\r\n\r\nexport const getCategoriesAndDocument = async () => {\r\n  const collectionRef = collection(db, \"categories\");\r\n  const q = query(collectionRef);\r\n\r\n  const querySnapShort = await getDocs(q);\r\n  const categoryMap = querySnapShort.docs.reduce((acc, docSnapShort) => {\r\n    const { title, items } = docSnapShort.data();\r\n    acc[title.toLowerCase()] = items;\r\n    return acc;\r\n  }, {});\r\n  return categoryMap;\r\n};\r\n\r\nexport const createUserDocumentFromAuth = async (\r\n  userAuth,\r\n  additionalSetting\r\n) => {\r\n  if (!userAuth) return;\r\n\r\n  const userDocRef = doc(db, \"users\", userAuth.uid);\r\n\r\n  const snapShort = await getDoc(userDocRef);\r\n\r\n  if (!snapShort.exists()) {\r\n    const { displayName, email } = userAuth;\r\n    const createdAt = new Date();\r\n\r\n    try {\r\n      await setDoc(userDocRef, {\r\n        displayName,\r\n        email,\r\n        createdAt,\r\n        ...additionalSetting,\r\n      });\r\n    } catch (err) {\r\n      console.log(\"createUserDocumentFromAuth\", err);\r\n    }\r\n  }\r\n  return userDocRef;\r\n};\r\n\r\nexport const createUserAuthWithEmailAndPassword = async (email, password) => {\r\n  if (!email || !password) return;\r\n\r\n  return await createUserWithEmailAndPassword(auth, email, password);\r\n};\r\n\r\nexport const signInUserAuthWithEmailAndPassword = async (email, password) => {\r\n  if (!email || !password) return;\r\n\r\n  return await signInWithEmailAndPassword(auth, email, password);\r\n};\r\n\r\nexport const signOutUser = async () => await signOut(auth);\r\nexport const onAuthStateChangedListener = (callback) =>\r\n  onAuthStateChanged(auth, callback);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}