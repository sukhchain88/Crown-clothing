{"ast":null,"code":"import React,{useState}from\"react\";import{CardElement,useStripe,useElements}from\"@stripe/react-stripe-js\";import Button from\"../button/button.component\";import\"./payment-form.scss\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PaymentForm=()=>{const stripe=useStripe();const elements=useElements();const[isProcessingPayment,setIsProcessingPayment]=useState(false);const paymentHandler=async e=>{e.preventDefault();if(!stripe||!elements){return;}try{console.log(\"Attempting to fetch...\");const response=await fetch(\"http://localhost:3001/.netlify/functions/create-payment-intents\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({amount:1000})}).then(res=>res.json());console.log(\"Fetch response:\",response);if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.json();console.log(\"Parsed data:\",data);}catch(error){console.error(\"Detailed fetch error:\",error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"payment-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:paymentHandler,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Credit Card Payment:\"}),/*#__PURE__*/_jsx(CardElement,{}),/*#__PURE__*/_jsx(Button,{buttonType:\"inverted\",children:\"Pay Now\"})]})});};export default PaymentForm;","map":{"version":3,"names":["React","useState","CardElement","useStripe","useElements","Button","jsx","_jsx","jsxs","_jsxs","PaymentForm","stripe","elements","isProcessingPayment","setIsProcessingPayment","paymentHandler","e","preventDefault","console","log","response","fetch","method","headers","body","JSON","stringify","amount","then","res","json","ok","Error","status","data","error","className","children","onSubmit","buttonType"],"sources":["D:/All-my-projects/10-CROWNCLOTHING/crown-clothing/src/components/payment-form/payment-form.component.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport Button from \"../button/button.component\";\r\n\r\nimport \"./payment-form.scss\";\r\n\r\nconst PaymentForm = () => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [isProcessingPayment, setIsProcessingPayment] = useState(false);\r\n\r\n  const paymentHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!stripe || !elements) {\r\n      return;\r\n    }\r\n    try {\r\n      console.log(\"Attempting to fetch...\");\r\n      const response = await fetch(\r\n        \"http://localhost:3001/.netlify/functions/create-payment-intents\",\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({ amount: 1000 }),\r\n        }\r\n      ).then((res) => res.json());\r\n\r\n      console.log(\"Fetch response:\", response);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log(\"Parsed data:\", data);\r\n    } catch (error) {\r\n      console.error(\"Detailed fetch error:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"payment-container\">\r\n      <form onSubmit={paymentHandler}>\r\n        <h2>Credit Card Payment:</h2>\r\n        <CardElement />\r\n        <Button buttonType=\"inverted\">Pay Now</Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentForm;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,CAAEC,SAAS,CAAEC,WAAW,KAAQ,yBAAyB,CAC7E,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAE/C,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,MAAM,CAAGR,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAS,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACS,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAErE,KAAM,CAAAc,cAAc,CAAG,KAAO,CAAAC,CAAC,EAAK,CAClCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CAACN,MAAM,EAAI,CAACC,QAAQ,CAAE,CACxB,OACF,CACA,GAAI,CACFM,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAC1B,iEAAiE,CACjE,CACEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAE,IAAK,CAAC,CACvC,CACF,CAAC,CAACC,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAE3BZ,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEC,QAAQ,CAAC,CAExC,GAAI,CAACA,QAAQ,CAACW,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,uBAAuBZ,QAAQ,CAACa,MAAM,EAAE,CAAC,CAC3D,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAd,QAAQ,CAACU,IAAI,CAAC,CAAC,CAClCZ,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEe,IAAI,CAAC,CACnC,CAAE,MAAOC,KAAK,CAAE,CACdjB,OAAO,CAACiB,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAED,mBACE5B,IAAA,QAAK6B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChC5B,KAAA,SAAM6B,QAAQ,CAAEvB,cAAe,CAAAsB,QAAA,eAC7B9B,IAAA,OAAA8B,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7B9B,IAAA,CAACL,WAAW,GAAE,CAAC,cACfK,IAAA,CAACF,MAAM,EAACkC,UAAU,CAAC,UAAU,CAAAF,QAAA,CAAC,SAAO,CAAQ,CAAC,EAC1C,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}