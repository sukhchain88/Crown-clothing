{"ast":null,"code":"import React from\"react\";import{createContext,useState,useEffect}from\"react\";import{onAuthStateChangedListener,createUserDocumentFromAuth}from\"../utils/firebase/firebase.utils\";import{jsx as _jsx}from\"react/jsx-runtime\";export const UserContext=/*#__PURE__*/createContext({setCurrentUser:()=>null,currentUser:null});export const UserProvider=_ref=>{let{children}=_ref;const[currentUser,setCurrentUser]=useState(null);const value={currentUser,setCurrentUser};useEffect(()=>{const unsubscrib=onAuthStateChangedListener(user=>{if(user){createUserDocumentFromAuth(user);}setCurrentUser(user);});return unsubscrib();},[]);return/*#__PURE__*/_jsx(UserContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","onAuthStateChangedListener","createUserDocumentFromAuth","jsx","_jsx","UserContext","setCurrentUser","currentUser","UserProvider","_ref","children","value","unsubscrib","user","Provider"],"sources":["D:/All-my-projects/10-CROWNCLOTHING/crown-clothing/src/context/user.context.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { createContext, useState, useEffect } from \"react\";\r\n\r\nimport {\r\n    onAuthStateChangedListener,\r\n    createUserDocumentFromAuth\r\n} from \"../utils/firebase/firebase.utils\";\r\n\r\nexport const UserContext = createContext({\r\n    setCurrentUser: () => null,\r\n    currentUser: null,\r\n})\r\n\r\nexport const UserProvider = ({ children }) => {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const value = { currentUser, setCurrentUser }\r\n\r\n    useEffect(() => {\r\n        const unsubscrib = onAuthStateChangedListener((user) => {\r\n            if (user) {\r\n                createUserDocumentFromAuth(user)\r\n            }\r\n            setCurrentUser(user)\r\n        })\r\n        return unsubscrib()\r\n    }, [])\r\n\r\n    return <UserContext.Provider value={value} >{children}</UserContext.Provider>\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE1D,OACIC,0BAA0B,CAC1BC,0BAA0B,KACvB,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,MAAO,MAAM,CAAAC,WAAW,cAAGP,aAAa,CAAC,CACrCQ,cAAc,CAAEA,CAAA,GAAM,IAAI,CAC1BC,WAAW,CAAE,IACjB,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACrC,KAAM,CAACF,WAAW,CAAED,cAAc,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAAAY,KAAK,CAAG,CAAEJ,WAAW,CAAED,cAAe,CAAC,CAE7CN,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAY,UAAU,CAAGX,0BAA0B,CAAEY,IAAI,EAAK,CACpD,GAAIA,IAAI,CAAE,CACNX,0BAA0B,CAACW,IAAI,CAAC,CACpC,CACAP,cAAc,CAACO,IAAI,CAAC,CACxB,CAAC,CAAC,CACF,MAAO,CAAAD,UAAU,CAAC,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAOR,IAAA,CAACC,WAAW,CAACS,QAAQ,EAACH,KAAK,CAAEA,KAAM,CAAAD,QAAA,CAAGA,QAAQ,CAAuB,CAAC,CACjF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}